# vim: ft=make ts=4 sw=4

GIT_BASEURL ?= https://github.com
GIT_PREFIX_CONTRIB ?= QubesOS-contrib/qubes-
GIT_PREFIX_QUBES ?= QubesOS/qubes-
GIT_PREFIX ?= $(GIT_PREFIX_CONTRIB)

BRANCH ?= release4.0

BACKEND_VMM=xen

DIST_DOM0 ?= fc25
DISTS_VM ?= fc30 buster

QUBES_COMPONENTS ?= \
	mgmt-salt \
	linux-yum \
	linux-deb \
	builder \
	builder-debian \
	builder-rpm

CONTRIB_COMPONENTS ?=

COMPONENTS ?= \
	$(QUBES_COMPONENTS) \
	$(CONTRIB_COMPONENTS)

BUILDER_PLUGINS = builder-rpm builder-debian
BUILDER_PLUGINS += mgmt-salt

BRANCH_linux_yum=master
BRANCH_linux_deb=master
BRANCH_builder=master
BRANCH_builder_rpm=master
BRANCH_builder_debian=master

$(foreach comp,$(QUBES_COMPONENTS),$(eval GIT_URL_$(subst -,_,$(comp))=$(GIT_BASEURL)/$(GIT_PREFIX_QUBES)$(comp)))

about::
	@echo "qubes-os-contrib-r4.0.conf"
